<!DOCTYPE html>
<html>

<head>
    <title>Rock-Paper-Scissors</title>
</head>

<body>
    <script>
        function game() {
            let playerSelection;
            const rounds = 5;
            for (let index = 0; index < rounds; index++) {
                playerSelection = prompt('Rock, Paper or Scissors?');
                alert(playRound(playerSelection,computerPlay()));
            }
        }

        function playRound(playerSelection, computerSelection) {
            playerSelection = playerSelection.toLowerCase();
            //Ends up in a draw
            if (validateSelection(playerSelection)) {
                if ((playerSelection === 'rock' && computerSelection === 'rock')
                    || (playerSelection === 'paper' && computerSelection === 'paper')
                    || (playerSelection === 'scissors' && computerSelection === 'scissors')) {
                    return `It was a draw! ${capitalizer(playerSelection)} can't beat ${capitalizer(computerSelection)}`;

                    // Player wins   
                } else if ((playerSelection === 'rock' && computerSelection === 'scissors')
                    || (playerSelection === 'paper' && computerSelection === 'rock')
                    || (playerSelection === 'scissors' && computerSelection === 'paper')) {
                    return `You Win! ${capitalizer(playerSelection)} beats ${capitalizer(computerSelection)}.`;

                    //Player loses        
                } else {
                    return `You Lose. ${capitalizer(computerSelection)} beats ${capitalizer(playerSelection)}`;
                }
            }
            return `You must play either Rock, Paper or Scissors`;
        }

        function validateSelection(playerSelection) {
            const moveSelection = ['rock', 'paper', 'scissors'];
            return moveSelection.includes(playerSelection);
        }

        function capitalizer(selection) {
            let firstLetter = selection.slice(0, 1).toUpperCase();
            selection = selection.replace(selection[0], firstLetter);
            return selection;
        }

        function computerPlay() {
            const playValue = generateRandom();

            switch (playValue) {
                case 1:
                    return 'rock';
                    break;

                case 2:
                    return 'paper';
                    break;

                case 3:
                    return 'scissors';
                    break;

            }

        }

        function generateRandom() {
            return Math.floor((Math.random() * 3) + 1);
        }

    </script>
</body>

</html>